<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <meta charset="utf-8"/>
	<title>iLog Syslog search</title>
        <link rel="stylesheet" type="text/css" href="./bootstrap-3.3.7-dist/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="./css/dataTables.bootstrap.css">
        <link rel="stylesheet" type="text/css" href="./css/buttons.dataTables.min.css">
        <link rel="stylesheet" type="text/css" href="./css/style_ilog_syslog.css">
        <script type="text/javascript" src="./js/jquery-1.12.4.js"> </script>
        <script type="text/javascript" src="./js/jquery.dataTables.js"> </script>
        <script type="text/javascript" src="./js/dataTables.bootstrap.js"> </script>
        <script type="text/javascript" src="./js/dataTables.colReorder.min.js"> </script>
        <script type="text/javascript" src="./js/dataTables.buttons.min.js"> </script>
        <script type="text/javascript" src="./js/buttons.colVis.min.js"> </script>
        <script type="text/javascript" src="./mark.js/jquery.mark.js"> </script>
        <script type="text/javascript" src="./js/datatables.mark.js"> </script>
	<script type="text/javascript" class="init">
            function filterGlobal () {
                $('#example').DataTable().search(
                $('#global_filter').val()
                ).draw();
            }
 
            function filterColumn ( i ) {
                 $('#example').DataTable().column( i ).search(
                 $('#col'+i+'_filter').val()
                 ).draw();
            }

           $(document).ready(function() {
               $('#example').DataTable( {
                   processing: true,
                   serverSide: true,
                   ajax: "./scripts/ilog_syslog.php",
                   mark: true,
                   iDisplayLength: 50,
                   aLengthMenu: [[50, 100, 250, 500, 1000], [50, 100, 250, 500, 1000]],
                   order: [[ 0, "desc" ]],
                   search: { "regex": true },
                   stateSave: true,
                   colReorder: true,
                   dom: "<'row'<'col-sm-6'Bi>>" + "<'row'<'col-sm-6'l><'col-sm-6'p>>" + "<'row'<'col-sm-12'tr>>" + "<'row'<'col-sm-5'i><'col-sm-7'p>>",
                   columns: [  
                       null, 
                       null,  
                       null, 
                       { "visible": false }, 
                       { "visible": false }, 
                       { "visible": false }, 
                       { "visible": false }, 
                       null, 
                       { "width": "80%" } 
                   ],
                   columnDefs: [
                       { "orderable": true, "targets": 1 },
                       { "orderable": true, "targets": 2 },
                       { "orderable": true, "targets": 3 },
                       { "orderable": true, "targets": 4 },
                       { "orderable": true, "targets": 5 },
                       { "orderable": true, "targets": 6 },
                       { "orderable": true, "targets": 7 },
                       { "orderable": true, "targets": 8 }
                   ],
                   buttons: [
                        {
                            extend: 'colvis',
                            text: 'Display Columns',
                            columns: ':not(.noVis)'
                        }
                    ]
                } );
            $('input.global_filter').on( 'keyup click', function () { filterGlobal(); } );
            $('input.column_filter').on( 'keyup click', function () { filterColumn( $(this).parents('tr').attr('data-column') ); } );
            } );
        </script>
    </head>
<body id="body">
    <div class="container-fluid">
            <table class="firsttable">
                <tbody>
                    <tr> 
                        <td><img src="/images/stepcg_logo.png" width="110" alt="STEPcg log"></td>
                        <td>iLog Syslog search</td> 
                    </tr>
                </tbody>
            </table>
            <table class="secondtable">
                <tbody>
                    <tr id="filter_global">
                        <td class="custom1">Global</td>
                        <td><input class="global_filter" id="global_filter" type="text" size="24" placeholder="Global Search"></td>
                    </tr>
                    <tr id="filter_col2" data-column="2">
                        <td class="custom1">Host</td>
                        <td><input class="column_filter" id="col2_filter" type="text" size="24" placeholder="Host Search"></td>
                    </tr>
                    <tr id="filter_col7" data-column="7">
                        <td class="custom1">Program</td>
                        <td><input class="column_filter" id="col7_filter" type="text" size="24" placeholder="Program Search"></td>
                    </tr>
                    <tr id="filter_col8" data-column="8">
                       <td class="custom1">Message</td>
                       <td><input class="column_filter" id="col8_filter" type="text" size="24" placeholder="Message Search"></td>
                   </tr>
               </tbody>
            </table>
            <table class="table table-striped table-bordered table-hover" id="example" style="width:100%">
                <thead>
                    <tr>
                        <th>Seq</th>
                        <th>Datetime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                        <th>Host</th>
                        <th>Facility</th>
                        <th>Priority</th>
                        <th>Level</th>
                        <th>Tag</th>
                        <th>Prog&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                        <th>Message</th>
                    </tr>
                 </thead>
            </table>
    </div>
</body>
</html>
